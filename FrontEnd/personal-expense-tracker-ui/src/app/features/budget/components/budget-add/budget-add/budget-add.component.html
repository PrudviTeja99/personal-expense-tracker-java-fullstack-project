<div class="m-4 d-flex flex-column h-100">
    <div class="align-self-end">
        <i class="bi bi-x-lg" role="button" (click)="onCancel()"></i>
    </div>
    <div class="d-flex fw-bold fs-1 flex-grow-1 align-items-center justify-content-center">
        Add Budget
    </div>
    <form class="d-flex flex-column my-4" [formGroup]="budgetGroup" (ngSubmit)="createBudget()">

        <mat-form-field>
            <mat-label>Category</mat-label>
            <input matInput formControlName="category">
            @if(budgetGroup.controls['category'].dirty && budgetGroup.controls['category'].invalid){
              <mat-error>Invalid Category !!</mat-error>
            }
            @if(budgetGroup.controls['category'].errors){
              <mat-error>Category is required !!</mat-error>
            }
        </mat-form-field>

        <mat-form-field>
            <mat-label>Budget Amount</mat-label>
            <input matInput type="number" formControlName="limitAmount">
            @if(budgetGroup.controls['limitAmount'].touched && budgetGroup.controls['limitAmount'].invalid){
              <mat-error>Invalid budget amount !!</mat-error>
            }
            @if(budgetGroup.controls['limitAmount'].errors){
              <mat-error>Budget amount is required !!</mat-error>
            }
        </mat-form-field>

        <mat-form-field>
            <mat-label>Enter a date range</mat-label>
            <mat-date-range-input [formGroup]="budgetGroup" [rangePicker]="picker">
              <input matStartDate formControlName="startDate" placeholder="Start date">
              <input matEndDate formControlName="endDate" placeholder="End date">
            </mat-date-range-input>
            <mat-hint>MM/DD/YYYY â€“ MM/DD/YYYY</mat-hint>
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-date-range-picker #picker></mat-date-range-picker>
          
            @if (budgetGroup.controls['startDate'].hasError('matStartDateInvalid')) {
              <mat-error>Invalid start date !!</mat-error>
            }
            @if (budgetGroup.controls['endDate'].hasError('matEndDateInvalid')) {
              <mat-error>Invalid end date !!</mat-error>
            }
          </mat-form-field>
        
        <div class="align-self-end mt-4">
            <div><button class="btn btn-primary" type="submit">Create</button></div>
        </div>
    </form>
</div>